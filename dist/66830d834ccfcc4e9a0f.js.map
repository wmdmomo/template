{"version":3,"sources":["webpack:///./src/services/wits.js","webpack:///./src/config.js","webpack:///./src/pages/index/index.js"],"names":["service","axios","create","baseURL","CONFIG","timeout","isFetching","document","addEventListener","querySelector","_asyncToGenerator","regeneratorRuntime","mark","_callee","phonenumber","weixin","weibo","res","wrap","_context","prev","next","getElementById","value","toast","abrupt","test","data","mobile","wechat","post","sent","code","message","t0","stop","this"],"mappings":"mMAGMA,SAAUC,EAAMC,OAAO,CAC3BC,QCJaC,mCDKbC,QAAS,gUEQX,IAAIC,GAAa,EAEjBC,SAASC,iBAAiB,mBAAoB,WACxBD,SAASE,cAAc,WAC/BD,iBAAiB,QAA7BE,EAAAC,mBAAAC,KAAsC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAN,mBAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAC9BP,EAAcP,SAASe,eAAe,UAAUC,MAChDR,EAASR,SAASe,eAAe,UAAUC,MAC3CP,EAAQT,SAASe,eAAe,UAAUC,MAC3CT,EAJ+B,CAAAK,EAAAE,KAAA,eAKlCG,IAAM,UAL4BL,EAAAM,OAAA,oBAN/B,YAAYC,KAcJZ,GARuB,CAAAK,EAAAE,KAAA,eASlCG,IAAM,aAT4BL,EAAAM,OAAA,oBAYhCnB,EAZgC,OAalCkB,IAAM,SAb4BL,EAAAM,OAAA,UAAAN,EAAAE,KAAA,wBAgBpCf,GAAa,EAhBuBa,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GFPVM,EEyBQ,CAC9BC,OAAUd,EACVe,OAAUd,EACVC,MAASA,GF3BRhB,EAAQ8B,KAAK,+BAAgCH,GEMd,QAkB5BV,EAlB4BE,EAAAY,KAuBlCzB,GAAa,EACS,MAAlBW,EAAIU,KAAKK,KACXR,IAAM,QAENA,IAAMP,EAAIU,KAAKM,SA3BiBd,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAe,GAAAf,EAAA,UA8BlCb,GAAa,EACbkB,IAAML,EAAAe,GAAED,SA/B0B,yBAAAd,EAAAgB,OFPjC,IAAuBR,GEOUd,EAAAuB,KAAA","file":"66830d834ccfcc4e9a0f.js","sourcesContent":["import axios from 'axios'\nimport config from '../config'\n\nconst service = axios.create({\n  baseURL: config.API_URL,\n  timeout: 60000\n})\nexport function wechatSignature(params) {\n  return service.get('/user/weixin/signature', { params })\n}\nexport function submitRecruit(data) {\n  return service.post('/circle/recruit_circle_owner', data)\n}\n","export default CONFIG\n","import 'normalize.css'\nimport '~/styles/global.css'\nimport '~/styles/mobile-wrapper.css'\nimport './style.css'\nimport 'regenerator-runtime/runtime'\nimport 'wscn-affiliate'\nimport toast from 'wscn-toast'\n// import { setWechatShare } from '../../shared/shareMeta'\nimport { submitRecruit } from '../../services/wits'\n\nfunction isPhone(phone) {\n  return /^1\\d{10}$/.test(phone)\n}\nlet isFetching = false\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const fetchbutton = document.querySelector('.bottom')\n  fetchbutton.addEventListener('click', async () => {\n    const phonenumber = document.getElementById('field1').value\n    const weixin = document.getElementById('field2').value\n    const weibo = document.getElementById('field3').value\n    if (!phonenumber) {\n      toast('请填写手机号')\n      return\n    }\n    if (!isPhone(phonenumber)) {\n      toast('请输入正确的手机号')\n      return\n    }\n    if (isFetching) {\n      toast('正在提交中')\n      return\n    }\n    isFetching = true\n    try {\n      const res = await submitRecruit({\n        'mobile': phonenumber,\n        'wechat': weixin,\n        'weibo': weibo\n      })\n      isFetching = false\n      if (res.data.code === 20000) {\n        toast('提交成功')\n      } else {\n        toast(res.data.message)\n      }\n    } catch (e) {\n      isFetching = false\n      toast(e.message)\n    }\n  })\n})\n"],"sourceRoot":""}