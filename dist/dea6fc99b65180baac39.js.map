{"version":3,"sources":["webpack:///./src/services/wits.js","webpack:///./src/config.js","webpack:///./src/shared/shareMeta.js","webpack:///./src/pages/index/index.js"],"names":["service","axios","create","baseURL","CONFIG","timeout","shareData","title","desc","imgUrl","link","location","href","_callee","data","res","conf","regeneratorRuntime","wrap","_context","prev","next","params","signurl","split","platform","get","sent","window","wx","config","appId","appid","timestamp","nonceStr","noncestr","signature","jsApiList","jsapis","ready","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","stop","this","_x","_setWechatShare","apply","arguments","setWechatShare","showbutton","document","querySelector","closebutton","modal","addEventListener","classList","add","stopBodyScroll","remove","bodyEl","body","top","isFixed","scrollY","style","position","left","width","overflow","scrollTo"],"mappings":"8KAGMA,SAAUC,EAAMC,OAAO,CAC3BC,QCJaC,mCDKbC,QAAS,+HEAX,IAAMC,EAAY,CAChBC,MAAO,uCACPC,KAAM,4BACNC,OAAQ,sEACRC,KAAMC,SAASC,0DAGV,SAAAC,EAA8BC,GAA9B,IAAAC,EAAAC,EAAA,OAAAC,mBAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,uBAA8BP,MAAOR,GAArCa,EAAAE,KAAA,EFJyBC,EEKI,CAChCC,QAASZ,SAASC,KAAKY,MAAM,KAAK,GAClCC,SAAU,QFNLzB,EAAQ0B,IAAI,yBAA0B,CAAEJ,WEG1C,OACCP,EADDI,EAAAQ,KAKCX,EAAOD,EAAID,KAAKA,KACtBc,OAAOC,GAAGC,OAAO,CACfC,MAAOf,EAAKgB,MACZC,UAAWjB,EAAKiB,UAChBC,SAAUlB,EAAKmB,SACfC,UAAWpB,EAAKoB,UAChBC,UAAWrB,EAAKsB,SAElBV,OAAOC,GAAGU,MAAM,WACdX,OAAOC,GAAGW,oBAAoB1B,GAC9Bc,OAAOC,GAAGY,sBAAsB3B,GAChCc,OAAOC,GAAGa,cAAc5B,KAhBrB,wBAAAK,EAAAwB,OFJA,IAAyBrB,GEIzBT,EAAA+B,8MCJHhB,OAAOC,IDIJ,SAAPgB,GAAAC,EAAAC,MAAAH,KAAAI,WCHEC,GAGF,IAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAcF,SAASC,cAAc,gBACrCE,EAAQH,SAASC,cAAc,SACrCF,EAAWK,iBAAiB,QAAS,WACnCD,EAAME,UAAUC,IAAI,QACpBC,GAAe,KAEjBL,EAAYE,iBAAiB,QAAS,WACpCD,EAAME,UAAUG,OAAO,QACvBD,GAAe,KAEjB,IAAIE,EAAST,SAASU,KAClBC,EAAM,EAEV,SAASJ,EAAeK,GAClBA,GACFD,EAAMlC,OAAOoC,QACbJ,EAAOK,MAAMC,SAAW,QACxBN,EAAOK,MAAMH,KAAOA,EAAM,KAC1BF,EAAOK,MAAME,KAAO,EACpBP,EAAOK,MAAMG,MAAQ,OACrBR,EAAOK,MAAMI,SAAW,WAExBT,EAAOK,MAAMC,SAAW,GACxBN,EAAOK,MAAMH,IAAM,GACnBF,EAAOK,MAAMI,SAAW,GACxBzC,OAAO0C,SAAS,EAAGR","file":"dea6fc99b65180baac39.js","sourcesContent":["import axios from 'axios'\nimport config from '../config'\n\nconst service = axios.create({\n  baseURL: config.API_URL,\n  timeout: 60000\n})\n\nexport function wechatSignature(params) {\n  return service.get('/user/weixin/signature', { params })\n}\n","export default CONFIG\n","\n/* eslint-disable import/no-webpack-loader-syntax */\n// import img from '!!file-loader!~/images/logo.png'\nimport { wechatSignature } from '../services/wits'\n\nconst shareData = {\n  title: '你有一份择机而动的见识宝典待领取 or 就在见识！必须献给2019的宝典',\n  desc: '见识过2018的风起云涌，你的2019必须择机而动',\n  imgUrl: 'https://wpimg.wallstcn.com/834f39db-37b6-4297-9731-cf3e3b927bfe.png',\n  link: location.href\n}\n\nexport async function setWechatShare(data = shareData) {\n  const res = await wechatSignature({\n    signurl: location.href.split('#')[0],\n    platform: 'wits'\n  })\n  const conf = res.data.data\n  window.wx.config({\n    appId: conf.appid,\n    timestamp: conf.timestamp,\n    nonceStr: conf.noncestr,\n    signature: conf.signature,\n    jsApiList: conf.jsapis\n  })\n  window.wx.ready(() => {\n    window.wx.onMenuShareTimeline(data)\n    window.wx.onMenuShareAppMessage(data)\n    window.wx.onMenuShareQQ(data)\n  })\n}\n","import 'normalize.css'\nimport '~/styles/global.css'\nimport '~/styles/mobile-wrapper.css'\nimport './style.css'\nimport 'regenerator-runtime/runtime'\nimport 'wscn-affiliate'\nimport { setWechatShare } from '../../shared/shareMeta'\n\nif (window.wx) {\n  setWechatShare()\n}\n\nconst showbutton = document.querySelector('#showbutton')\nconst closebutton = document.querySelector('#closebutton')\nconst modal = document.querySelector('.mask')\nshowbutton.addEventListener('click', () => {\n  modal.classList.add('show')\n  stopBodyScroll(true)\n})\nclosebutton.addEventListener('click', () => {\n  modal.classList.remove('show')\n  stopBodyScroll(false)\n})\nlet bodyEl = document.body\nlet top = 0\n\nfunction stopBodyScroll(isFixed) {\n  if (isFixed) {\n    top = window.scrollY\n    bodyEl.style.position = 'fixed'\n    bodyEl.style.top = -top + 'px'\n    bodyEl.style.left = 0\n    bodyEl.style.width = '100%'\n    bodyEl.style.overflow = 'hidden'\n  } else {\n    bodyEl.style.position = ''\n    bodyEl.style.top = ''\n    bodyEl.style.overflow = ''\n    window.scrollTo(0, top) // 回到原先的top\n  }\n}\n"],"sourceRoot":""}