{"version":3,"sources":["webpack:///./src/config.js","webpack:///./src/shared/gtag.js","webpack:///./src/shared/handleError.js","webpack:///./src/services/ivanka.js","webpack:///./src/shared/weixin.js","webpack:///./src/pages/index/index.js"],"names":["CONFIG","gtag","window","dataLayer","push","arguments","init","trackingId","Date","_callee","e","regeneratorRuntime","wrap","_context","prev","next","code","message","toast","stop","this","api","WscnIvankaAPI","ivankaPlatform","clientType","deviceIdPrefix","cache","onSafeError","_x","_ref","apply","isWeixin","WscnWeixin","wx","weixin","alert","then","setShareMeta","title","desc","imgUrl","link","config","showbutton","document","querySelector","closebutton","modal","addEventListener","classList","add","stopBodyScroll","remove","bodyEl","body","top","isFixed","scrollY","style","position","left","width","overflow","scrollTo"],"mappings":"wJAAeA,sDCATC,EAAO,WACXC,OAAOC,UAAUC,KAAKC,YAGxBJ,EAAKK,KAAO,SAAUC,QAA8B,IAA9BA,MAAa,iBACjCL,OAAOC,UAAYD,OAAOC,WAAa,GACvCF,EAAK,KAAM,IAAIO,MACfP,EAAK,SAAUM,IAGFN,2OCRA,SAAAQ,EAAgBC,GAAhB,OAAAC,mBAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACTL,EAAEM,MAAQN,EAAEO,QACdC,IAAMR,EAAEO,QAAS,SAEjBC,IAAM,gCAAiC,SAJ5B,wBAAAL,EAAAM,SAAAV,EAAAW,8MCCf,IAQeC,EARH,IAAIC,IAAc,CAC5BC,eAAgB,gBAChBC,WAAY,OACZC,eAAgB,QAChBC,OAAO,EACPC,YDNa,SAAAC,GAAf,OAAAC,EAAAC,MAAAV,KAAAf,cECY0B,GAAaC,IAAjBC,GAAiBD,IAAbD,UACNG,EAAS,IAAIF,IAAWX,aCW9BpB,EAAKK,OAEDyB,IACFI,MAAM,GACND,EACG5B,OACA8B,KAAK,WACJD,MAAM,GACND,EAAOG,aAAa,CAClBC,MAAO,uCACPC,KAAM,4BACNC,OAAQ,sEACRC,KAASC,EAAL,SAIZ,IAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAcF,SAASC,cAAc,gBACrCE,EAAQH,SAASC,cAAc,SACrCF,EAAWK,iBAAiB,QAAS,WACnCD,EAAME,UAAUC,IAAI,QACpBC,GAAe,KAEjBL,EAAYE,iBAAiB,QAAS,WACpCD,EAAME,UAAUG,OAAO,QACvBD,GAAe,KAEjB,IAAIE,EAAST,SAASU,KAClBC,EAAM,EAEV,SAASJ,EAAeK,GAClBA,GACFD,EAAMrD,OAAOuD,QACbJ,EAAOK,MAAMC,SAAW,QACxBN,EAAOK,MAAMH,KAAOA,EAAM,KAC1BF,EAAOK,MAAME,KAAO,EACpBP,EAAOK,MAAMG,MAAQ,OACrBR,EAAOK,MAAMI,SAAW,WAExBT,EAAOK,MAAMC,SAAW,GACxBN,EAAOK,MAAMH,IAAM,GACnBF,EAAOK,MAAMI,SAAW,GACxB5D,OAAO6D,SAAS,EAAGR","file":"4254436f0ddceea8f89d.js","sourcesContent":["export default CONFIG\n","const gtag = function () {\n  window.dataLayer.push(arguments)\n}\n\ngtag.init = function (trackingId = 'UA-19303398-2') {\n  window.dataLayer = window.dataLayer || []\n  gtag('js', new Date())\n  gtag('config', trackingId)\n}\n\nexport default gtag\n","import toast from 'wscn-toast'\n\nexport default async function (e) {\n  if (e.code && e.message) {\n    toast(e.message, 'error')\n  } else {\n    toast('发生了一点错误，请稍后再试 .·´¯`(>▂<)´¯`·.', 'error')\n  }\n}\n","import WscnIvankaAPI from 'wscn-ivanka-api'\nimport handleError from '~/shared/handleError'\n\nconst api = new WscnIvankaAPI({\n  ivankaPlatform: 'wscn-platform',\n  clientType: 'mweb',\n  deviceIdPrefix: 'mwscn',\n  cache: true,\n  onSafeError: handleError\n})\n\nexport default api\n","import WscnWeixin from 'wscn-weixin'\nimport api from '~/services/ivanka'\n\nconst { wx, isWeixin } = WscnWeixin\nconst weixin = new WscnWeixin(api)\n\nexport { weixin, wx, isWeixin }\n","import 'normalize.css'\nimport '~/styles/global.css'\nimport '~/styles/mobile-wrapper.css'\nimport './style.css'\n\nimport 'regenerator-runtime/runtime'\n// import ivanka from '~/services/ivanka'\n// import jinshuju from '~/services/jinshuju'\nimport config from '~/config'\n// import auth from '~/shared/auth'\nimport gtag from '~/shared/gtag'\nimport { weixin, isWeixin } from '~/shared/weixin'\n// import shareMeta from '~/shared/shareMeta'\nimport 'wscn-affiliate'\n\ngtag.init()\n\nif (isWeixin) {\n  alert(1)\n  weixin\n    .init()\n    .then(() => {\n      alert(2)\n      weixin.setShareMeta({\n        title: '你有一份择机而动的见识宝典待领取 or 就在见识！必须献给2019的宝典',\n        desc: '见识过2018的风起云涌，你的2019必须择机而动',\n        imgUrl: 'https://wpimg.wallstcn.com/834f39db-37b6-4297-9731-cf3e3b927bfe.png',\n        link: `${config.BASE_URL}/`\n      })\n    })\n}\nconst showbutton = document.querySelector('#showbutton')\nconst closebutton = document.querySelector('#closebutton')\nconst modal = document.querySelector('.mask')\nshowbutton.addEventListener('click', () => {\n  modal.classList.add('show')\n  stopBodyScroll(true)\n})\nclosebutton.addEventListener('click', () => {\n  modal.classList.remove('show')\n  stopBodyScroll(false)\n})\nlet bodyEl = document.body\nlet top = 0\n\nfunction stopBodyScroll(isFixed) {\n  if (isFixed) {\n    top = window.scrollY\n    bodyEl.style.position = 'fixed'\n    bodyEl.style.top = -top + 'px'\n    bodyEl.style.left = 0\n    bodyEl.style.width = '100%'\n    bodyEl.style.overflow = 'hidden'\n  } else {\n    bodyEl.style.position = ''\n    bodyEl.style.top = ''\n    bodyEl.style.overflow = ''\n    window.scrollTo(0, top) // 回到原先的top\n  }\n}\n"],"sourceRoot":""}